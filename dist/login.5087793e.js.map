{"version":3,"sources":["components/serverComponent/urls.js","components/serverComponent/python/pythonAxios.js","components/configComponent/update-vars.js","login.js","../../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["PYTHON_URL","PHP_FORM","PostRequest_Login","user","password","axios","method","url","data","email","GetRequest_CheckPort","Post_VeryToken","Token","token","GetRequest_Email","User","sessionStorage","getItem","logo_map","title_sidebar","title_sidebar_sm","dependence_id","document","addEventListener","$","on","find","toggleClass","Password","getElementById","see_password","reveal_password","type","Botton","onclick","Login","error_message","mensaje","icon","Swal","fire","title","text","confirmButtonText","Email","value","focus","Api_Login","Api_check","then","res1","length","res2","statusText","web_id","ingreso","i","setItem","location","href","catch","error","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","getBaseURL","getBundleURL","module","exports"],"mappings":"AIAA,IAAI8D,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,ADGA,SCHSC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;ADGF;ACFED,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFLJ,AFAO,AGOP,ICFIA,AJLSjE,IIKL,CAACqE,KJLc,CIKnB,EJLqB,4BAAlB;AIMJ,AFJI,GEEL,CFFWtD,IAAI,GAAGC,cAAc,CAACC,OAAf,CAAuB,qBAAvB,CAAb;AFDA,IAAMhB,QAAQ,GAAE,0DAAhB;AIMLiE,AFJK,EEILA,EFJWhD,KEIJ,CAACyC,EFJW,EEInB,CFJoB,EEILM,IAAI,CAACN,IAAL,CAAUW,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,GFJ1C,CEI8C,CAACC,GAAL,EAA/C;AACAP,AHRF,EGQEA,IAAI,CAACQ,UAAL,CAAgBC,YAAhB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;AACD,AFLM,IAAMxD,aAAa,GAAC,kBAApB;ADFP;AGSA,AFNO,ADFA,IGQHyD,AFNSxD,KDFGlB,KGQF,GAAG,GFNY,CEM7B,EFN8B,GDFvB,CAA2BC,CCE3B,GDFA,EAAiCC,QAAjC,EAA0C;AAC7C,AEMJ,SFNWC,KAAK,CAAC;AGQjB,AFNO,ADDCC,AEMRgB,IDLaD,ADDLf,IEMA,CCCCuE,ADDAtD,CFNK,EAAE,KCCU,CEM1B,AHRiB,ECEY,CEMR,AFNd,ICKP,CAA0B,kBAA1B,EAA8C,YAAY;ACExD,AHPMhB,AEMNiB,EAAAA,CAAC,CFNKjB,AEMJ,ECCEqE,CHPK,AEMR,CAAD,CFNW5E,AEMJyB,EAAP,CAAU,ICCV,EAAgB,CDDhB,EAAmB,OFNG,KEMS,OFRhB;AGUb,AHPIjB,AEMJgB,IFNIhB,AEMJgB,CAAC,CAAC,EFNM,EAAC,AEMR,CAAD,CACGE,IADH,CACQ,iBADR,EAEGC,WAFH,CAEe,kBAFf,EAGGA,WAHH,CAGe,YAHf;ACED,AHPSlB,AEST,GALD,GFJUA,KAAK,EAACN,IADL;AAEDC,AESX,CAPD,GAWA,EFbYA,QAAQ,EAACA;AGQnBwE,AHVW,EGUXA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,AHda,AEmBjB,GFnBgB,CAAZ,AEmBAlD,ICLImD,IDKI,CCLC,EDKEzD,CCLCA,ODKO,CCLC,ADKAO,CCLCmD,aDKV,CAAwB,ECLvB,CAA0B,ODK3B,CAAf,gBCLgB,CAAZ;AHNH,AEYD,IAAIlD,YAAY,GAAGR,QAAQ,CAACO,cAAT,CAAwB,cAAxB,CAAnB;ACLI,ADMJC,SCNS,GDMG,CCNC0B,ADMAjC,CCNC,GAAG,CAAb,EAAgBiC,CAAC,GAAGuB,KAAK,ADM7B,CCN8B5B,ADMA,MCN1B,CDMJ,CCNsCK,CAAC,ADMAzB,ECNnC,EAAuC,WDM3C,GAEA;ACPM,AHRL,EAED,QGMU+B,MAAM,CAACmB,UAAP,CAAkBF,KAAK,CAACvB,CAAD,CAAL,CAASG,IAA3B,MAAqCG,MAAM,CAACoB,YAAP,EAAzC,EAAgE;AAC9DlB,ADOR,QCPQA,CDOCjC,SCPS,CAACgD,KAAK,ADOxB,CCPyBvB,CAAD,CAAN,ADOQ,CCPlB;AACD,AHPA,AEcL,MAAG5B,GFdWlB,KEcH,CAACsB,IAAT,IAAiB,MFdf,CAA8BvB,GEcnC,EFdK,AEc0B,EFdU;AGQtC,AHPD,AEcAmB,IAAAA,KFdOvB,GEcC,CAAC2B,CFdG,CAAC,EEcb,GAAgB,MAAhB;AFbI1B,AEcL,GAFD,CFZMA,KEeF,CFfQ,EAAE,KADC;AGSbsE,AHPIrE,AEeJqB,ICRAgD,AHPIrE,AEeJqB,GFfO,EAAE5B,GEeD,CAACgC,CCRC,GAAG,ADQb,GAAe,CCRf,OHPoB,EEepB,gBFfS,GAA8BvB;AGQxC,AHVc,AEkBd,GCjBsB,AHDT,CAAZ,CGUC,EAToB,CAAvB;AAUD,AHPA;AEcE;ACLH0E,AHTC,AEeA,EFbD,IGOM,CAACC,OAAP,GAAiBP,SAAjB;;AHNO,AEYN,EAED,OFdgBlE,cAAT,CAAwBC,KAAxB,EAA8B;AACjC,SAAOP,KAAK,CAAC;AACTC,AEaR,IFbQA,AEaJ2B,MFbU,AEaJ,EFbM,CEaHX,KFdI,GEcI,CAACO,cAAT,CAAwB,QAAxB,CAAb;AFZQtB,AEa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","file":"login.5087793e.js","sourceRoot":"..\\src","sourcesContent":["export const PYTHON_URL= 'http://35.188.231.22:8000/'\r\nexport const PHP_FORM= 'http://34.138.222.96/formulario_atlantico/indexForm.php?'","import {PYTHON_URL} from '../urls'\n\n//Api to login\nexport function PostRequest_Login(user, password){\n    return axios({\n        method: 'POST',\n        url: PYTHON_URL+'api/token/',\n        data:{\n            email:user,\n            password:password,\n        },\n    })\n};\n\n//Api to verify access to a certain portal\nexport function GetRequest_CheckPort(email){\n    return axios({\n        method: 'GET',\n        url: PYTHON_URL+'api/token/datos/'+email,\n    })\n};\n\n//Api to verify the token\nexport function Post_VeryToken(Token){\n    return axios({\n        method: 'POST',\n        url: PYTHON_URL+'api/token/verify/',\n        data:{\n            token:Token,\n        },\n    })\n};\n\n//Api to recover password\nexport function GetRequest_Email(email){\n    return axios({\n        method: 'GET',\n        url: PYTHON_URL+'api/recuperacion_contrasena/'+email,\n    })\n};","//\r\n\r\nexport const User = sessionStorage.getItem('User-juan-de-acosta');\r\nexport const logo_map='./assets/icons/logos/logo-small.png';\r\nexport const title_sidebar='Modelo Extendido';\r\nexport const title_sidebar_sm='SUI';\r\nexport const dependence_id = 3;\r\n\r\n\r\n","/* Algoritmo para trabajar la verificacion de usuarios mediante\n un login, ademas genera diferentes interacciones con el formulario */\n\n\n//Import lib of node js\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport{PostRequest_Login,GetRequest_CheckPort,ID_GEOVISOR} from './components/serverComponent/python/pythonAxios'\nimport{dependence_id} from './components/configComponent/update-vars'\n\n\n//Función para cambiar el logo de mostrar contraseña\ndocument.addEventListener('DOMContentLoaded', function () {\n  $('i').on('click', function () {\n    $(this)\n      .find('[data-fa-i2svg]')\n      .toggleClass('far fa-eye-slash')\n      .toggleClass('far fa-eye');\n  });\n});\n\n\n\n//Interacción para mostar la contraseña\nvar Password = document.getElementById('password'); \nvar see_password = document.getElementById(\"see-password\");\nsee_password.addEventListener(\"click\", reveal_password);\n\n//Función que descodifica la contraseña \nfunction reveal_password(){\n  if(Password.type == \"password\"){\n    Password.type = \"text\";   \n  }\n  else{\n    Password.type =\"password\";\n  };\n};\n\n//Create interaction login botton, import data\nlet Botton = document.getElementById(\"botton\");\nBotton.onclick = Login;\n\n//Función para crear un mensaje de error. \nfunction error_message(mensaje,icon){\n  return Swal.fire({\n    title: 'Error!',\n    text: mensaje,\n    icon: icon,\n    confirmButtonText: 'OK'\n  });\n};\n\n\n//Función para generar la conexion con la API y verifica los usuarios. \nfunction Login(){\n  var Email = document.getElementById('email').value;\n  var Password = document.getElementById('password').value; \n    if (Email==\"\" | Password==\"\"){\n        document.getElementById(\"email\").focus();\n        document.getElementById(\"password\").focus();\n    }\n    else{\n        const Api_Login = PostRequest_Login(Email,Password)\n        const Api_check = GetRequest_CheckPort(Email)\n        Api_check.then(function (res1) {\n          if((res1.data).length == 1){\n            Api_Login.then(function (res2) {\n              if (res2.statusText == \"OK\"){\n                var web_id = res1.data[\"0\"][\"dependencia\"][\"accesos\"];\n                var ingreso = false\n                for(var i  of web_id){\n                  if(i[\"id\"] == dependence_id){\n                    ingreso = true\n                  }         \n                }\n                if(ingreso == true){\n                  sessionStorage.setItem('access-juan-de-acosta',res2.data[\"access\"]);\n                  sessionStorage.setItem('User-juan-de-acosta',Email);    \n                  document.location.href=\"./index.html\";\n                }\n                else if(ingreso == false){\n                  error_message(\"No tiene acceso a la dependencia.\",\"info\");\n                  document.getElementById(\"email\").value=\"\";\n                  document.getElementById(\"password\").value=\"\";\n                }\n              }\n              \n            })\n            Api_Login.catch(function (error){\n              error_message(\"La contraseña ingresada es incorrecta.\",\"error\")\n            });\n          } \n          else if((res1.data).length == 0){\n            error_message(\"Usuario no registrado.\",\"error\")\n            document.getElementById(\"email\").value=\"\";\n            document.getElementById(\"password\").value=\"\";\n          }\n            \n        })\n      }\n};\n\n\n\n\n\n\n\n\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}