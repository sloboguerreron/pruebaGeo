{"version":3,"sources":["components/serverComponent/urls.js","components/serverComponent/python/pythonAxios.js","components/configComponent/update-vars.js","login.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/bundle-loader.js"],"names":["PYTHON_URL","PHP_FORM","PostRequest_Login","user","password","axios","method","url","data","email","GetRequest_CheckPort","Post_VeryToken","Token","token","GetRequest_Email","User","sessionStorage","getItem","logo_map","title_sidebar","title_sidebar_sm","dependence_id","document","addEventListener","$","on","find","toggleClass","Password","getElementById","see_password","reveal_password","type","Botton","error_message","mensaje","icon","Swal","fire","title","text","confirmButtonText","Login","Email","value","focus","Api_Login","then","res1","length","res2","statusText","web_id","ingreso","setItem","location","href","catch","error","onclick","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","all","map","loadBundle","bundleLoaders","registerBundleLoader","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","e","executor","promise","prototype","onSuccess","onError"],"mappings":"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","file":"login.43dea215.js","sourceRoot":"..\\src","sourcesContent":["export const PYTHON_URL= 'http://35.188.231.22:8000/'\r\n\r\nexport const PHP_FORM= 'http://35.188.231.22/formulario_yopal/indexForm.php?'","import {PYTHON_URL} from '../urls'\r\n\r\n//Api to login\r\nexport function PostRequest_Login(user, password){\r\n    return axios({\r\n        method: 'POST',\r\n        url: PYTHON_URL+'api/token/',\r\n        data:{\r\n            email:user,\r\n            password:password,\r\n        },\r\n    })\r\n};\r\n\r\n//Api to verify access to a certain portal\r\nexport function GetRequest_CheckPort(email){\r\n    return axios({\r\n        method: 'GET',\r\n        url: PYTHON_URL+'api/token/datos/'+email,\r\n    })\r\n};\r\n\r\n//Api to verify the token\r\nexport function Post_VeryToken(Token){\r\n    return axios({\r\n        method: 'POST',\r\n        url: PYTHON_URL+'api/token/verify/',\r\n        data:{\r\n            token:Token,\r\n        },\r\n    })\r\n};\r\n\r\n//Api to recover password\r\nexport function GetRequest_Email(email){\r\n    return axios({\r\n        method: 'GET',\r\n        url: PYTHON_URL+'api/recuperacion_contrasena/'+email,\r\n    })\r\n};","//\r\n\r\nexport const User = sessionStorage.getItem('User-juan-de-acosta');\r\nexport const logo_map='./assets/icons/logos/logo-small.png';\r\nexport const title_sidebar='Modelo Extendido';\r\nexport const title_sidebar_sm='SUI';\r\nexport const dependence_id = 3;\r\n\r\n\r\n","/* Algoritmo para trabajar la verificacion de usuarios mediante\r\n un login, ademas genera diferentes interacciones con el formulario */\r\n\r\n\r\n//Import lib of node js\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport{PostRequest_Login,GetRequest_CheckPort,ID_GEOVISOR} from './components/serverComponent/python/pythonAxios'\r\nimport{dependence_id} from './components/configComponent/update-vars'\r\n\r\n\r\n//Función para cambiar el logo de mostrar contraseña\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  $('i').on('click', function () {\r\n    $(this)\r\n      .find('[data-fa-i2svg]')\r\n      .toggleClass('far fa-eye-slash')\r\n      .toggleClass('far fa-eye');\r\n  });\r\n});\r\n\r\n\r\n\r\n//Interacción para mostar la contraseña\r\nvar Password = document.getElementById('password'); \r\nvar see_password = document.getElementById(\"see-password\");\r\nsee_password.addEventListener(\"click\", reveal_password);\r\n\r\n//Función que descodifica la contraseña \r\nfunction reveal_password(){\r\n  if(Password.type == \"password\"){\r\n    Password.type = \"text\";   \r\n  }\r\n  else{\r\n    Password.type =\"password\";\r\n  };\r\n};\r\n\r\n//Create interaction login botton, import data\r\nlet Botton = document.getElementById(\"botton\");\r\nBotton.onclick = Login;\r\n\r\n//Función para crear un mensaje de error. \r\nfunction error_message(mensaje,icon){\r\n  return Swal.fire({\r\n    title: 'Error!',\r\n    text: mensaje,\r\n    icon: icon,\r\n    confirmButtonText: 'OK'\r\n  });\r\n};\r\n\r\n\r\n//Función para generar la conexion con la API y verifica los usuarios. \r\nfunction Login(){\r\n  var Email = document.getElementById('email').value;\r\n  var Password = document.getElementById('password').value; \r\n    if (Email==\"\" | Password==\"\"){\r\n        document.getElementById(\"email\").focus();\r\n        document.getElementById(\"password\").focus();\r\n    }\r\n    else{\r\n        const Api_Login = PostRequest_Login(Email,Password)\r\n        const Api_check = GetRequest_CheckPort(Email)\r\n        Api_check.then(function (res1) {\r\n          if((res1.data).length == 1){\r\n            Api_Login.then(function (res2) {\r\n              if (res2.statusText == \"OK\"){\r\n                var web_id = res1.data[\"0\"][\"dependencia\"][\"accesos\"];\r\n                var ingreso = false\r\n                for(var i  of web_id){\r\n                  if(i[\"id\"] == dependence_id){\r\n                    ingreso = true\r\n                  }         \r\n                }\r\n                if(ingreso == true){\r\n                  sessionStorage.setItem('access-juan-de-acosta',res2.data[\"access\"]);\r\n                  sessionStorage.setItem('User-juan-de-acosta',Email);    \r\n                  document.location.href=\"./index.html\";\r\n                }\r\n                else if(ingreso == false){\r\n                  error_message(\"No tiene acceso a la dependencia.\",\"info\");\r\n                  document.getElementById(\"email\").value=\"\";\r\n                  document.getElementById(\"password\").value=\"\";\r\n                }\r\n              }\r\n              \r\n            })\r\n            Api_Login.catch(function (error){\r\n              error_message(\"La contraseña ingresada es incorrecta.\",\"error\")\r\n            });\r\n          } \r\n          else if((res1.data).length == 0){\r\n            error_message(\"Usuario no registrado.\",\"error\")\r\n            document.getElementById(\"email\").value=\"\";\r\n            document.getElementById(\"password\").value=\"\";\r\n          }\r\n            \r\n        })\r\n      }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n"]}